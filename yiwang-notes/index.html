<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>毅忘笔记</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 应用容器 -->
    <div id="app" class="app-container">
        <!-- 顶部导航栏 -->
        <header class="navbar">
            <div class="navbar-left">
                <h1 class="app-title"><i class="fas fa-book-open"></i> 毅忘笔记</h1>
            </div>
            <div class="navbar-center">
                <div class="search-container">
                    <input type="text" id="search-input" class="search-input" placeholder="搜索笔记...">
                    <button id="search-button" class="search-button"><i class="fas fa-search"></i></button>
                </div>
            </div>
            <div class="navbar-right">
                <button id="theme-toggle" class="theme-button" title="切换主题">
                    <i class="fas fa-palette"></i>
                </button>
                <button id="settings-button" class="settings-button" title="设置">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 左侧分类面板 -->
            <aside class="category-panel">
                <div class="category-header">
                    <h2>分类</h2>
                    <button id="add-category" class="add-category-btn" title="添加分类">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <ul id="category-list" class="category-list">
                    <!-- 分类列表将通过JS动态生成 -->
                </ul>
            </aside>

            <!-- 中间笔记列表 -->
            <section class="notes-panel">
                <div class="notes-header">
                    <h2 id="current-category-title">所有笔记</h2>
                    <div class="notes-actions">
                        <button id="add-note" class="add-note-btn" title="新建笔记">
                            <i class="fas fa-plus"></i> 新建笔记
                        </button>
                        <button id="toggle-view" class="toggle-view-btn" title="切换视图">
                            <i class="fas fa-th-large"></i>
                        </button>
                    </div>
                </div>
                <div id="notes-list" class="notes-list">
                    <!-- 笔记列表将通过JS动态生成 -->
                </div>
                <div id="search-results" class="search-results hidden">
                    <div class="search-results-header">
                        <h3>搜索结果</h3>
                        <button id="clear-search" class="clear-search-btn">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <ul id="search-results-list" class="search-results-list">
                        <!-- 搜索结果将通过JS动态生成 -->
                    </ul>
                </div>
            </section>

            <!-- 右侧编辑区域 -->
            <section id="editor-panel" class="editor-panel hidden">
                <div class="editor-header">
                    <input type="text" id="note-title" class="note-title" placeholder="笔记标题...">
                    <div class="editor-actions">
                        <button id="save-note" class="save-note-btn" title="保存笔记">
                            <i class="fas fa-save"></i> 保存
                        </button>
                        <button id="delete-note" class="delete-note-btn" title="删除笔记">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="editor-toolbar">
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-command="bold" title="加粗">
                            <i class="fas fa-bold"></i>
                        </button>
                        <button class="toolbar-btn" data-command="italic" title="斜体">
                            <i class="fas fa-italic"></i>
                        </button>
                        <button class="toolbar-btn" data-command="underline" title="下划线">
                            <i class="fas fa-underline"></i>
                        </button>
                        <button class="toolbar-btn" data-command="strikeThrough" title="删除线">
                            <i class="fas fa-strikethrough"></i>
                        </button>
                    </div>
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-command="h1" title="标题1">
                            <i class="fas fa-heading"></i> H1
                        </button>
                        <button class="toolbar-btn" data-command="h2" title="标题2">
                            <i class="fas fa-heading"></i> H2
                        </button>
                        <button class="toolbar-btn" data-command="h3" title="标题3">
                            <i class="fas fa-heading"></i> H3
                        </button>
                    </div>
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-command="insertUnorderedList" title="无序列表">
                            <i class="fas fa-list-ul"></i>
                        </button>
                        <button class="toolbar-btn" data-command="insertOrderedList" title="有序列表">
                            <i class="fas fa-list-ol"></i>
                        </button>
                        <button class="toolbar-btn" data-command="outdent" title="减少缩进">
                            <i class="fas fa-outdent"></i>
                        </button>
                        <button class="toolbar-btn" data-command="indent" title="增加缩进">
                            <i class="fas fa-indent"></i>
                        </button>
                    </div>
                    <div class="toolbar-group">
                        <button id="insert-image" class="toolbar-btn" title="插入图片">
                            <i class="fas fa-image"></i>
                        </button>
                        <input type="file" id="image-upload" class="image-upload hidden" accept="image/*">
                        <button class="toolbar-btn" data-command="createLink" title="插入链接">
                            <i class="fas fa-link"></i>
                        </button>
                        <button class="toolbar-btn" data-command="unlink" title="移除链接">
                            <i class="fas fa-unlink"></i>
                        </button>
                    </div>
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-command="undo" title="撤销">
                            <i class="fas fa-undo"></i>
                        </button>
                        <button class="toolbar-btn" data-command="redo" title="重做">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                </div>
                <div id="note-content" class="note-content" contenteditable="true" placeholder="开始书写你的笔记..."></div>
                <div class="editor-footer">
                    <span id="note-meta" class="note-meta">创建于: 2023-07-21 15:30</span>
                    <div class="note-tags">
                        <span class="tags-label">标签:</span>
                        <div id="note-tags-container" class="tags-container">
                            <!-- 标签将通过JS动态生成 -->
                        </div>
                        <button id="add-tag" class="add-tag-btn" title="添加标签">
                            <i class="fas fa-tag"></i>
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 主题选择弹窗 -->
    <div id="theme-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>选择主题</h3>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="theme-options">
                    <div class="theme-option" data-theme="spring">
                        <div class="theme-preview spring-theme"></div>
                        <span>春季</span>
                    </div>
                    <div class="theme-option" data-theme="summer">
                        <div class="theme-preview summer-theme"></div>
                        <span>夏季</span>
                    </div>
                    <div class="theme-option" data-theme="autumn">
                        <div class="theme-preview autumn-theme"></div>
                        <span>秋季</span>
                    </div>
                    <div class="theme-option" data-theme="winter">
                        <div class="theme-preview winter-theme"></div>
                        <span>冬季</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 分类编辑弹窗 -->
    <div id="category-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="category-modal-title">新建分类</h3>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="category-form">
                    <div class="form-group">
                        <label for="category-name">分类名称</label>
                        <input type="text" id="category-name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="category-color">分类颜色</label>
                        <input type="color" id="category-color" class="form-input" value="#3498db">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">取消</button>
                        <button type="submit" class="btn btn-primary">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 图片预览弹窗 -->
    <div id="image-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>图片预览</h3>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="image-preview" class="image-preview"></div>
                <div class="image-actions">
                    <button id="confirm-image" class="btn btn-primary">插入图片</button>
                    <button id="cancel-image" class="btn btn-secondary close-modal-btn">取消</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 标签编辑弹窗 -->
    <div id="tag-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>添加标签</h3>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="tag-form">
                    <div class="form-group">
                        <label for="tag-name">标签名称</label>
                        <input type="text" id="tag-name" class="form-input" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">取消</button>
                        <button type="submit" class="btn btn-primary">添加</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 确认删除弹窗 -->
    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>确认删除</h3>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirm-message">你确定要删除这个项目吗？此操作无法撤销。</p>
                <div class="form-actions">
                    <button id="cancel-delete" class="btn btn-secondary close-modal-btn">取消</button>
                    <button id="confirm-delete" class="btn btn-danger">删除</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 通知提示 -->
    <div id="notification" class="notification hidden"></div>

    <script src="script.js"></script>
</body>
</html>